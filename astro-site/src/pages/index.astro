---
import "/styles/style.css";

import "/scripts/main.js";
---


.=
<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- 検索結果に出るタイトル -->
    <title>プロ講師個別指導塾｜プロ塾</title>

    <!-- 検索結果に出る説明文 -->
    <meta
      name="description"
      content="プロ講師による1：1の個別指導塾。高校受験・大学受験に対応。対面指導で学習習慣から改善します。"
    />

		<!-- 文字の書体を部分的に変更するもの -->
			<link rel="preconnect" href="https://fonts.googleapis.com">
			<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
			<link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">


	</head>

	<body>
		<!-- HTML -->
    <!-- ヘッダー -->
    <header class="header">
			<h1 class="logo">
        
        <!-- 画像 -->
        <img src="/images/pic_01.JPG" alt="logo">
        <!-- 画像end -->
        
        <span class="logo-text">
          <span class="logo-sub">家庭教師・個別指導</span>
          <span class="logo-main">プロ塾</span>
        </span>  
        </h1> 

      <button class="menu-button" id="menuButton" aria-label="メニュー">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <nav class="menu" id="menu">
        <ul>
          <li><a href="/">トップ</a></li>
          <li><a href="/about/">塾について</a></li>
          <li><a href="/course/">講座・料金</a></li>
          <li><a href="/contact/">お問い合わせ</a></li>
        </ul>
      </nav>
    </header>
		<div class="overlay" id="overlay"></div>
    <!-- 塾名 -->
    <section class="jukuname">
      <div class="jukuname-text">
      プロ講師個別指導塾
       </div>
     </section>

		<!-- スライダー -->
		<section class="slider" aria-label="お知らせスライダー">
  		<div class="slider-track" id="sliderTrack">
        
        <!-- 最後のコピー -->
   			<div class="slide">
          
          <!-- 画像 -->
          <img src="/images/pic_02.JPG" alt="logo">
          <!-- 画像end -->

        </div>
        
        <!-- 1枚目 -->
    		<div class="slide">
          
          <!-- 画像 -->
          <img src="/images/pic_01.JPG" alt="logo">
          <!-- 画像end -->

        </div>
        
        <!-- 2枚目 -->
    		<div class="slide">
          
          <!-- 画像 -->
      		<img src="/images/pic_02.JPG" alt="logo">
          <!-- 画像end -->

        </div>
        
        <!-- 3枚目 -->
    		<div class="slide">
          
          <!-- 画像 -->
          <img src="/images/pic_01.JPG" alt="logo">
          <!-- 画像end -->

        </div>
        
        <!-- 4枚目 -->
    		<div class="slide">
          
          <!-- 画像 -->
      		<img src="/images/pic_02.JPG" alt="logo">
          <!-- 画像end -->

        </div>
        
        <!-- 最初のコピー -->
    		<div class="slide">
          
          <!-- 画像 -->
      		<img src="/images/pic_01.JPG" alt="logo">
          <!-- 画像end -->
        </div>             
      </div>

  	<div class="dots" id="sliderDots" aria-label="スライド切替">
   			<button class="dot is-active" aria-label="1枚目へ"></button>
  			<button class="dot" aria-label="2枚目へ"></button>
   			<button class="dot" aria-label="3枚目へ"></button>
   			<button class="dot" aria-label="4枚目へ"></button>
    </div>
 		</section>

    <!-- ファーストビュー -->
    <section class="hero">
      <h1 class="hero-title">プロ講師による1：1の完全個別指導  編集2</h1>
    </section>

    <!-- 塾の概要 -->
    <section class="section">
      <h2 class="section-title">プロ塾について</h2>
			<b>学習状態の徹底管理を行い、数学・英語を中心に一人ひとりに最適な指導をいたします。</b>
      <p>
        プロ塾では、指導経験の豊富な講師が授業を担当する個別指導塾です。
        講師は担当の生徒が学習習慣を身につけるまで学習状態を徹底的に管理いたします。
      </p>
    </section>

    <section class="section">
      <h2 class="section-title">指導方針</h2>
			<p>
				「正しく効率よく学習する」がコンセプトとなっています。
			</p>
        
    </section>

    <!-- 指導対象 -->
    <section class="section">
      <h3 class="section-title">指導対象・形式</h3>
      <ul>
        <li>中学生・高校生</li>
        <li>数学・英語</li>
        <li>対面個別指導</li>
      </ul>
    </section>

    <!-- 特徴 -->
    <section class="section">
      <h3 class="section-title">プロ塾の特徴</h3>
      <ul>
        <li>すべての授業をプロ講師が担当</li>
        <li>数学・英語に特化</li>
        <li>駅近の公共施設で受講可能</li>
      </ul>
    </section>

    <!-- 問い合わせ -->
    <section class="contact">
      <p>受講のご相談はお気軽にお問い合わせください。</p>
      <a href="/contact/" class="contact-button">お問い合わせ</a>
    </section>

    <!-- フッター -->
    <footer class="footer">
      <p>© プロ塾</p>
    </footer>

		<script>
			/*== javascript ==*/
      const button = document.getElementById("menuButton");
      const menu = document.getElementById("menu");


		// ===== スライダー =====
const track = document.getElementById("sliderTrack");
const dotsWrap = document.getElementById("sliderDots");
const dots = Array.from(dotsWrap.querySelectorAll(".dot"));

const slides = Array.from(document.querySelectorAll(".slide"));
const slideCount = slides.length;           // コピー込みの枚数
const realTotal = dots.length;              // 本物の枚数

let current = 1;                            // 本物1枚目から開始（コピーが0）
let timer = null;

// 初期位置
track.style.transform = `translateX(-${current * 100}%)`;

// ドット更新（current → 本物indexに変換）
function updateDots() {
  const realIndex = (current - 1 + realTotal) % realTotal;
  dots.forEach((d, i) => d.classList.toggle("is-active", i === realIndex));
}

function moveTo(index) {
  track.style.transition = "transform 400ms ease";
  track.style.transform = `translateX(-${index * 100}%)`;
  current = index;
  updateDots();
}

function next() {
  moveTo(current + 1);
}

function prev() {
  moveTo(current - 1);
}

function start() {
  stop();
  timer = setInterval(next, 3500);
}

function stop() {
  if (timer) clearInterval(timer);
  timer = null;
}

// コピー位置に行ったら瞬間移動
track.addEventListener("transitionend", () => {
  // 一番右のコピー（最後）に来たら、本物1へ瞬間移動
  if (current === slideCount - 1) {
    track.style.transition = "none";
    current = 1;
    track.style.transform = `translateX(-${current * 100}%)`;
    updateDots();
  }

  // 一番左のコピー（最初）に来たら、本物最後へ瞬間移動
  if (current === 0) {
    track.style.transition = "none";
    current = slideCount - 2;
    track.style.transform = `translateX(-${current * 100}%)`;
    updateDots();
  }
});

// ドットクリック（本物index → currentへ）
dots.forEach((dot, i) => {
  dot.addEventListener("click", () => {
    moveTo(i + 1);   // 本物1枚目が current=1
    start();
  });
});

// 起動
updateDots();
start();


// ===== スワイプ対応（タッチで左右移動）=====
let startX = 0;
let startY = 0;
let deltaX = 0;
let isSwiping = false;

const slider = document.querySelector(".slider"); // スライダー全体

function onStart(x, y) {
  if (document.body.classList.contains("menu-open")) return;

  startX = x;
  startY = y;
  deltaX = 0;
  isSwiping = true;
  stop(); // 触ったら自動送りを止める
}

function onMove(x, y) {
  if (!isSwiping) return;

  const dx = x - startX;
  const dy = y - startY;

  // 縦スクロールが勝ってたらスワイプを諦める
  if (Math.abs(dy) > Math.abs(dx)) {
    isSwiping = false;
    track.style.transition = "transform 400ms ease";
    start();
    return;
  }

  deltaX = dx;

  // 指に追従
  track.style.transition = "none";
  const percent = (deltaX / slider.clientWidth) * 100;
  track.style.transform = `translateX(calc(-${current * 100}% + ${percent}%))`;
}

function onEnd() {
  if (!isSwiping) return;
  isSwiping = false;

  track.style.transition = "transform 400ms ease";

  const threshold = slider.clientWidth * 0.2;

  if (deltaX > threshold) {
    prev(); // ← 無限ループ版に合わせる
  } else if (deltaX < -threshold) {
    next(); // ← 無限ループ版に合わせる
  } else {
    moveTo(current); // 元に戻す
  }

  start();
}

// タッチ
slider.addEventListener(
  "touchstart",
  (e) => {
    const t = e.touches[0];
    onStart(t.clientX, t.clientY);
  },
  { passive: true }
);

slider.addEventListener(
  "touchmove",
  (e) => {
    const t = e.touches[0];

    // 横スワイプ中はスクロールを止める（これが効く）
    const dx = t.clientX - startX;
    const dy = t.clientY - startY;
    if (Math.abs(dx) > Math.abs(dy)) e.preventDefault();

    onMove(t.clientX, t.clientY);
  },
  { passive: false }
);

slider.addEventListener("touchend", onEnd);

// マウス（PCドラッグ）
slider.addEventListener("mousedown", (e) => onStart(e.clientX, e.clientY));
window.addEventListener("mousemove", (e) => onMove(e.clientX, e.clientY));
window.addEventListener("mouseup", onEnd);
			const overlay = document.getElementById("overlay");

			button.addEventListener("click", () => {
  			menu.classList.toggle("open");
  			button.classList.toggle("open");
  			overlay.classList.toggle("open");
        document.body.classList.toggle("menu-open");
			});

			overlay.addEventListener("click", () => {
  			menu.classList.remove("open");
  			button.classList.remove("open");
  			overlay.classList.remove("open");
        document.body.classList.remove("menu-open");
			});

		</script>


<script src="../scripts/main.js"></script>
	</body>
</html>